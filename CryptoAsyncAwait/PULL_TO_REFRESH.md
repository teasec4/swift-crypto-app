# Pull-to-Refresh –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. Coins Page (CoinsPage)
- **–ü–æ—Ç—è–Ω—É—Ç—å –≤–Ω–∏–∑** ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–∏–Ω–æ–≤ –∏ –∏—Ö —Ü–µ–Ω—ã
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π iOS `.refreshable` modifier
- –õ–æ–≥–∏–∫–∞: `CoinListView.refreshable ‚Üí coinListViewModel.loadCoins()`

### 2. Assets Page (AssetsView)
- **–ü–æ—Ç—è–Ω—É—Ç—å –≤–Ω–∏–∑** ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ü–µ–Ω—ã –≤—Å–µ—Ö –∞—Å—Å–µ—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π iOS `.refreshable` modifier
- –õ–æ–≥–∏–∫–∞: `AssetsView.refreshable ‚Üí assetsViewModel.forceRefreshAssetPrices()`
- **–ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** (toolbar) ‚Üí —Ç–æ—Ç –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Coins Page
```swift
.refreshable {
    await coinListViewModel.loadCoins()
}
```

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—Ç—è–Ω—É–ª –≤–Ω–∏–∑
2. ProgressView –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π iOS refresh spinner)
3. `loadCoins()` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
4. –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤—Å–µ —Ü–µ–Ω—ã –∫–æ–∏–Ω–æ–≤
5. Spinner –∏—Å—á–µ–∑–∞–µ—Ç, —Å–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª—ë–Ω

### Assets Page
```swift
.refreshable {
    await assetsViewModel.forceRefreshAssetPrices(context: context)
}
```

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—Ç—è–Ω—É–ª –≤–Ω–∏–∑
2. ProgressView –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
3. `forceRefreshAssetPrices()`:
   - –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –¥–µ–±–∞—É–Ω—Å (–æ–±–Ω–æ–≤–ª—è–µ—Ç –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ)
   - –ü–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–µ —Ü–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –∞—Å—Å–µ—Ç–æ–≤
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î
4. –¶–µ–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã, UI –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è

## –î–µ–±–∞—É–Ω—Å

**–û–±—ã—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω** (–∫–Ω–æ–ø–∫–∞ –≤ toolbar):
- –û–±–Ω–æ–≤–ª—è–µ—Ç –º–∞–∫—Å–∏–º—É–º —Ä–∞–∑ –≤ **60 —Å–µ–∫—É–Ω–¥**
- –î–µ–±–∞—É–Ω—Å –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–∏—à–Ω–∏–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

**Pull-to-refresh**:
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –¥–µ–±–∞—É–Ω—Å
- –í—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–∏ –ø–æ—Ç—è–≥–∏–≤–∞–Ω–∏–∏ –≤–Ω–∏–∑

## –õ–æ–≥–∏

–í–æ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω –∞—Å—Å–µ—Ç–æ–≤:
```
üîÑ Force refreshing asset prices...
üîÑ Fetching prices for 3 coins...
‚úÖ Asset prices updated and saved
```

–ï—Å–ª–∏ –¥–µ–±–∞—É–Ω—Å –∞–∫—Ç–∏–≤–µ–Ω:
```
‚è≥ Price refresh skipped (debounced)
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Coins Page
```
1. –û—Ç–∫—Ä–æ–π—Ç–µ Coins tab
2. –ü–æ—Ç—è–Ω–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤–Ω–∏–∑ (pull-to-refresh)
3. –í–≤–µ—Ä—Ö—É –ø–æ—è–≤–ª—è–µ—Ç—Å—è spinner
4. –°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
```

### Assets Page
```
1. –û—Ç–∫—Ä–æ–π—Ç–µ Assets tab
2. –ü–æ—Ç—è–Ω–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤–Ω–∏–∑ (pull-to-refresh)
3. –í–≤–µ—Ä—Ö—É –ø–æ—è–≤–ª—è–µ—Ç—Å—è spinner
4. –¶–µ–Ω—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
```

## –†–∞–∑–ª–∏—á–∏–µ pull-to-refresh –∏ –∫–Ω–æ–ø–∫–∏

| | –ö–Ω–æ–ø–∫–∞ | Pull-to-refresh |
|--|--------|-----------------|
| –î–µ–±–∞—É–Ω—Å | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (60 —Å–µ–∫) | ‚ùå –û—Ç–∫–ª—é—á–µ–Ω |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | Manual refresh | Quick refresh |
| Feedback | Toast —Å–æ–æ–±—â–µ–Ω–∏–µ | Native spinner |
| –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å | –Ø–≤–Ω–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ | –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—Ç pull-to-refresh –ø–æ—Ç–æ–º—É —á—Ç–æ:
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ (native iOS –ø–∞—Ç—Ç–µ—Ä–Ω)
- –í–∏–¥–∏–º—ã–π feedback (spinner)
- –ù–µ –Ω—É–∂–Ω–æ –∏—â–∞ –∫–Ω–æ–ø–∫—É

–ö–Ω–æ–ø–∫–∞ –≤—Å–µ –µ—â—ë –ø–æ–ª–µ–∑–Ω–∞ –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞.

## –§–∏—á–∏ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ

- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ header
- [ ] Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "Prices updated" –ø–æ—Å–ª–µ pull-to-refresh
- [ ] Skeleton loading –≤–º–µ—Å—Ç–æ spinner
- [ ] Smooth refresh animation
